(this.webpackJsonpmessageboard=this.webpackJsonpmessageboard||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),o=n(4),a=n.n(o),r=(n(10),n(11),n(2)),i=n(5),u=n(0),l=function(t){var e=Object(c.useState)(),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(c.useEffect)((function(){o({top:"".concat(t.ypos,"px"),left:"".concat(t.xpos,"px"),backgroundColor:"".concat(t.color)})}),[,t]),Object(u.jsx)("div",{className:"element",onClick:function(e){return function(e){t.setID(t.id),e.stopPropagation()}(e)},style:s,children:Object(u.jsx)("p",{children:t.title})})},d=function(t){var e=Object(c.useRef)(null);return Object(c.useEffect)((function(){e.current&&e.current.getElement().scrollTo(800,512)}),[]),Object(u.jsx)(i.a,{className:"scroll-container",ref:e,hideScrollbars:!1,children:Object(u.jsx)("div",{className:"main",onClick:function(n){t.valid&&function(n){var c=n.clientX+e.current.getElement().scrollLeft,s=n.clientY+e.current.getElement().scrollTop;t.setCoords([c,s]),t.setmakePost(!0)}(n)},children:t.posts?t.posts.map((function(e,n){return Object(u.jsx)(l,{id:e.id,title:e.title,xpos:e.xpos,ypos:e.ypos,color:e.color,is_admin:e.is_admin,setID:t.setID})})):null})})},j=function(t){var e=Object(c.useState)(""),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{className:"mainblock",children:[Object(u.jsx)("input",{className:"posttitleinp loginput",placeholder:"Enter Password",value:s,onChange:function(t){o(t.target.value)},required:"required",maxlength:"50"}),Object(u.jsx)("input",{className:"passinput",type:"submit",onClick:function(e){e.preventDefault(),t.checkpword(s)}})]})})},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=fetch("https://messageboard-back.herokuapp.com/api/posts/".concat(t,"/remove_post/"),{method:"DELETE",headers:{"Content-Type":"application/json",token:e}}).then((function(t){return t.json()}));return n},p=function(t){return fetch("https://messageboard-back.herokuapp.com/api/posts/".concat(t,"/flag_post/"),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))},f=function(t){var e=Object(c.useState)(!1),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"titletext",children:[Object(u.jsx)("h1",{children:t.currpost?t.currpost.title:""}),Object(u.jsxs)("div",{className:"verified",children:[Object(u.jsx)("div",{className:"hiddeninfo",children:Object(u.jsx)("span",{children:"Verified User"})}),t.currpost&&t.currpost.is_admin?Object(u.jsx)("img",{className:"checkmark",src:"https://cdn-icons-png.flaticon.com/512/3699/3699516.png"}):null]}),Object(u.jsx)("div",{className:"delete",children:t.currpost&&t.validated?Object(u.jsx)("img",{className:"checkmark",onClick:function(){b(t.currpost.id,t.token).then((function(){return t.reset()}))},src:"https://cdn-icons-png.flaticon.com/512/3096/3096687.png"}):Object(u.jsx)("img",{className:"checkmark",onClick:function(){p(t.currpost.id),o(!0)},style:{display:"".concat(s?"none":"")},src:"https://cdn-icons-png.flaticon.com/512/985/985382.png"})}),Object(u.jsx)("div",{className:"exitbutton",children:t.currpost?Object(u.jsx)("button",{onClick:function(){return t.reset()},children:"X"}):null})]}),Object(u.jsx)("h2",{children:t.currpost?t.currpost.date:""}),Object(u.jsx)("h2",{children:t.currpost?t.currpost.text:""}),t.currpost?Object(u.jsx)("hr",{}):null]})},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=fetch("https://messageboard-back.herokuapp.com/api/comments/make_comment/",{method:"POST",headers:{"Content-Type":"application/json",token:n},body:JSON.stringify({text:t,post:e})}).then((function(t){return t.json()}));return c},h=function(t){var e=Object(c.useState)(""),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(u.jsx)("div",{className:"commentform",children:t.currpost?Object(u.jsxs)("form",{children:[Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{value:s,onChange:function(t){o(t.target.value)},className:"postvalinp"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",className:"submitpost",onClick:function(e){e.preventDefault(),m(s,t.currpost.id,t.token).then((function(){return t.incComments()})),o("")}})]}):null})},O=function(t){return fetch("https://messageboard-back.herokuapp.com/api/comments/get_comments_post/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:t})}).then((function(t){return t.json()}))},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=fetch("https://messageboard-back.herokuapp.com/api/comments/".concat(t,"/remove_comment/"),{method:"DELETE",headers:{"Content-Type":"application/json",token:e}}).then((function(t){return t.json()}));return n},v=function(t){return fetch("https://messageboard-back.herokuapp.com/api/comments/".concat(t,"/flag_comment/"),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))},g=function(t){var e=Object(c.useState)(!1),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(u.jsxs)("div",{className:"commenttext",children:[Object(u.jsxs)("div",{className:"username",children:[Object(u.jsxs)("p",{children:[t.val.is_admin?"Verified Commenter":"Anonymous Commenter"," (",t.val.date,")"]}),Object(u.jsxs)("div",{className:"verified",children:[Object(u.jsx)("div",{className:"hiddeninfo",children:Object(u.jsx)("span",{children:"Verified User"})}),t.val.is_admin?Object(u.jsx)("img",{className:"checkmark",src:"https://cdn-icons-png.flaticon.com/512/3699/3699516.png"}):null]}),Object(u.jsx)("div",{className:"delete",children:t.validated?Object(u.jsx)("img",{className:"checkmark",onClick:function(){x(t.val.id,t.token).then((function(){return t.incComments()}))},src:"https://cdn-icons-png.flaticon.com/512/3096/3096687.png"}):Object(u.jsx)("img",{className:"checkmark",onClick:function(){v(t.val.id),o(!0)},style:{display:"".concat(s?"none":"")},src:"https://cdn-icons-png.flaticon.com/512/985/985382.png"})})]}),Object(u.jsx)("p",{children:t.val.text})]})},k=function(t){return Object(u.jsx)("div",{className:"commentdiv",children:t.comments!==[]?t.comments.map((function(e,n){return Object(u.jsx)(g,{val:e,incComments:t.incComments,validated:t.validated,token:t.token})})):null})},y=function(t){var e=Object(c.useState)([]),n=Object(r.a)(e,2),s=n[0],o=n[1],a=Object(c.useState)(0),i=Object(r.a)(a,2),l=i[0],d=i[1],j=function(){t.setID(-1),o([])};return Object(c.useEffect)((function(){t.currpost&&t.currpost.id&&-1!==t.currpost.id&&O(t.currpost.id.toString()).then((function(t){o(t.comments)}))}),[t.currpost,l]),Object(u.jsx)("div",{className:"postcover ".concat(t.class),onClick:function(){return j()},children:Object(u.jsxs)("div",{className:"postdetail detail",onClick:function(t){return t.stopPropagation()},style:{backgroundColor:t.currpost?t.currpost.color:""},children:[Object(u.jsx)(f,{currpost:t.currpost,reset:function(){return j()},token:t.token,validated:t.validated}),Object(u.jsx)(k,{comments:s,token:t.token,validated:t.validated,incComments:function(){return d(l+1)}}),Object(u.jsx)(h,{currpost:t.currpost,incComments:function(){return d(l+1)},token:t.token})]})})},S=function(t,e,n,c,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=fetch("https://messageboard-back.herokuapp.com/api/posts/make_post/",{method:"POST",headers:{"Content-Type":"application/json",token:o},body:JSON.stringify({title:t,text:e,xpos:n,ypos:c,color:s})}).then((function(t){return t.json()}));return a},C=function(t){var e=Object(c.useState)(""),n=Object(r.a)(e,2),s=n[0],o=n[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),l=i[0],d=i[1],j=Object(c.useState)(0),b=Object(r.a)(j,2),p=b[0],f=b[1],m=["#ffe6ff","#ffd6d6","#fff4e6","#fdffe6","#e6ffec","#e6fffb"];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(s,l,t.xpos,t.ypos,m[p],t.token),S(s,l,t.xpos,t.ypos,m[p],t.token).then((function(){return t.setmakePost(!1)})),o(""),d(""),f(0)},children:[Object(u.jsxs)("div",{className:"postformtitle",children:[Object(u.jsx)("h1",{children:"Make a Post"}),Object(u.jsx)("div",{className:"exitbutton",children:Object(u.jsx)("button",{type:"button",onClick:function(){o(""),d(""),f(0),t.setmakePost(!1)},children:"X"})})]}),Object(u.jsx)("input",{placeholder:"Enter a Title...",className:"posttitleinp",value:s,onChange:function(t){o(t.target.value)},required:"required",maxlength:"50"}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{placeholder:"Enter Some Text...",className:"postvalinp",value:l,onChange:function(t){d(t.target.value)},required:"required"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),m.map((function(t,e){return Object(u.jsx)("span",{class:"dot ".concat(p===e?"selected":""),style:{backgroundColor:t},onClick:function(){f(e)}},e)})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"submitpost",type:"submit"})]})},N=function(t){var e=Object(c.useState)("hidden"),n=Object(r.a)(e,2),s=n[0],o=n[1];return Object(c.useEffect)((function(){o(t.class?"shown":"hidden")}),[t.class]),Object(u.jsx)("div",{className:"postcover ".concat(s),onClick:function(){o("hidden"),t.setmakePost(!1)},children:Object(u.jsx)("div",{className:"postdetail form",onClick:function(t){return t.stopPropagation()},children:Object(u.jsx)(C,{xpos:t.coords[0],ypos:t.coords[1],setmakePost:t.setmakePost,token:t.token})})})},_=function(t){var e=Object(c.useState)([]),n=Object(r.a)(e,2),o=n[0],a=n[1],i=Object(c.useState)([]),l=Object(r.a)(i,2),d=l[0],j=l[1],b={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};return Object(c.useEffect)((function(){if(t.dateinfo){for(var e=[],n=[],c=t.dateinfo.this_year;c>=t.dateinfo.start_year;c--){e.push(c);for(var s=[],o=c===t.dateinfo.this_year?t.dateinfo.this_month:12;o>=(c===t.dateinfo.start_year?t.dateinfo.start_month:1);o--)s.push(o);n.push(s)}j(n),a(e)}}),[,t.dateinfo]),Object(u.jsxs)(s.a.Fragment,{children:[Object(u.jsx)("div",{className:"postcover ".concat(t.showsidebar?"shown":"hidden"),onClick:function(){t.setShowSidebar(!t.showsidebar)},children:Object(u.jsxs)("div",{className:"sidebar",style:{display:"".concat(t.showsidebar?"inline-block":"none")},onClick:function(t){t.stopPropagation()},children:[Object(u.jsx)("h1",{children:"Navigate"}),t.dateinfo?o.map((function(e,n){return Object(u.jsxs)("details",{open:0===n,className:"yeardetail",children:[Object(u.jsx)("summary",{children:e}),d[n].map((function(n,c){return Object(u.jsx)(s.a.Fragment,{children:Object(u.jsxs)("p",{onClick:function(){t.setMonth(n),t.setYear(e)},className:t.year===e&&t.month===n?"chosenmonth":"",children:[b[n]," ",e]})})}))]})})):null]})}),Object(u.jsx)("button",{style:{position:"fixed",zIndex:2,"margin-left":"".concat(t.showsidebar?"max(170px, calc(20% - 30px))":"10px")},onClick:function(){t.setShowSidebar(!t.showsidebar)},className:"sidebarbutton",children:Object(u.jsx)("img",{className:"hamburger",src:"".concat(t.showsidebar?"https://cdn-icons-png.flaticon.com/512/1/1193.png":"https://cdn-icons-png.flaticon.com/512/3388/3388797.png")})})]})},T=function(t){var e=Object(c.useState)(!1),n=Object(r.a)(e,2),s=n[0],o=n[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),l=i[0],d=i[1];return Object(u.jsxs)("div",{className:"adminform",children:[Object(u.jsx)("form",{style:{display:"".concat(s?"":"none")},onSubmit:function(e){e.preventDefault(),o(!1),t.setToken(l),d("")},children:Object(u.jsx)("input",{value:l,onChange:function(t){d(t.target.value)},placeholder:"Admin Password"})}),Object(u.jsx)("button",{className:"login",onClick:function(){return o(!0)},children:Object(u.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/747/747335.png"})})]})},P=function(t,e){return fetch("https://messageboard-back.herokuapp.com/api/posts/get_posts_month/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:t,month:e})}).then((function(t){return t.json()}))},w=function(){var t=n(13),e=new Date,o=e.getMonth()+1,a=e.getFullYear(),i=Object(c.useState)(!1),l=Object(r.a)(i,2),b=l[0],p=l[1],f=Object(c.useState)(!1),m=Object(r.a)(f,2),h=m[0],O=m[1],x=Object(c.useState)(!1),v=Object(r.a)(x,2),g=v[0],k=v[1],S=Object(c.useState)(""),C=Object(r.a)(S,2),w=C[0],E=C[1],D=Object(c.useState)(o),F=Object(r.a)(D,2),I=F[0],J=F[1],L=Object(c.useState)(a),M=Object(r.a)(L,2),q=M[0],A=M[1],Y=Object(c.useState)(-1),V=Object(r.a)(Y,2),X=V[0],B=V[1],U=Object(c.useState)([]),z=Object(r.a)(U,2),R=z[0],G=z[1],H=Object(c.useState)([]),K=Object(r.a)(H,2),Q=K[0],W=K[1],Z=Object(c.useState)(!1),$=Object(r.a)(Z,2),tt=$[0],et=$[1],nt=Object(c.useState)([]),ct=Object(r.a)(nt,2),st=ct[0],ot=ct[1],at={start_month:11,start_year:2021,this_month:o,this_year:a};Object(c.useEffect)((function(){O("20f0cfdc8935408bb8940b47de8838a8da6fa20c98b4931fefcb59febdb23976f8b1239706b70219b46d65945fc4b6620a97dd028faf7ae2a79dfe915912cb44"===t(w))}),[,w]),Object(c.useEffect)((function(){P(String(q),String(I)).then((function(t){G(t.posts)}))}),[,tt,q,I,X]),Object(c.useEffect)((function(){var t=R.find((function(t){return t.id===X}));W(t)}),[X,R]);var rt=function(e){p("bd9abafc721a3cb0472b1f5b6e214648b3b5bf1a5bac41088674794193b0dfcacedc25411011b17279c0e3266040ca1ef6abf734f0f0762eb0e26b85b4030cd6"===t(e.toLowerCase()))};return Object(u.jsx)(s.a.Fragment,{children:b?Object(u.jsxs)(s.a.Fragment,{children:[h?null:Object(u.jsx)(T,{setToken:function(t){return E(t)}}),Object(u.jsx)(_,{showsidebar:g,setShowSidebar:function(t){return k(t)},dateinfo:at,setMonth:function(t){J(t)},setYear:function(t){A(t)},year:q,month:I}),Object(u.jsx)(N,{class:tt,setmakePost:function(t){return et(t)},coords:st,token:w}),Object(u.jsx)(y,{setID:function(t){return B(t)},postID:X,class:-1!=X?"shown":"hidden",currpost:Q,token:w,validated:h}),Object(u.jsx)(d,{setID:function(t){return B(t)},posts:R,setmakePost:function(t){return et(t)},setCoords:function(t){ot(t)},valid:o===I&&a===q})," "]}):Object(u.jsx)(j,{setLocked:function(t){return p(t)},checkpword:function(t){return rt(t)}})})};var E=function(){return Object(u.jsx)(w,{})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),s(t),o(t),a(t)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),D()}},[[17,1,2]]]);
//# sourceMappingURL=main.e15e25e9.chunk.js.map